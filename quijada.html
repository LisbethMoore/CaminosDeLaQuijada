<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Los caminos de la Quijada</title>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="overlay"></div>
  <header class="top-bar"></header>

  <main class="hero">
    <h1>LOS CAMINOS DE LA QUIJADA</h1>
    <p class="intro">
      En lo profundo de las monta√±as colombianas, existe un pueblo olvidado por el tiempo...
      <br><br>
      Atr√©vete a recorrer <strong>Los Caminos de la Quijada</strong> y sum√©rgete en una historia llena de
      misterio, cultura y tradici√≥n.
    </p>

    <div class="buttons">
      <a class="btn" href="assets/historia.pdf" download="historia.pdf">¬øQuieres conocer m√°s?</a>
      <a class="btn" id="playBtn" href="#">Jugar</a>
      <div class="buttons-row">
        <button class="btn" id="aboutBtn">¬øQui√©nes somos?</button>
        <button class="btn" id="registerBtn">Registrarse</button>
        <button class="btn" id="galleryBtn">Ver galer√≠a</button>
      </div>
    </div>
  </main>

  <footer class="site-footer">
    TODOS LOS DERECHOS RESERVADOS A LENNY CHILITO LOZADA, LISBETH MOORE, MANUEL VILLAQUIR√ÅN Y DANIEL ACOSTA
  </footer>

  <!-- Modal Qui√©nes somos -->
  <div id="aboutSection" class="modal">
    <button class="btn-close" id="closeAbout">‚úñ</button>
    <h2>Sobre el proyecto</h2>
    <p>
      <strong>Los Caminos de la Quijada</strong> es un proyecto inspirado en la mitolog√≠a y los relatos
      tradicionales colombianos. Nuestro objetivo es transmitir cultura y conciencia ambiental a trav√©s
      de un videojuego retro en pixel art, donde el jugador explora pueblos, bosques y leyendas,
      viajando entre pasado y presente.
    </p>
  </div>

  <!-- Modal Registro -->
  <div id="registerSection" class="modal">
    <button class="btn-close" id="closeRegister">‚úñ</button>
    <h2>Reg√≠strate</h2>
    <form id="registerForm">
      <label for="nickname">Nickname:</label>
      <input type="text" id="nickname" required>
      <label for="email">Correo electr√≥nico:</label>
      <input type="email" id="email" required>
      <button type="submit" class="btn">Guardar</button>
    </form>
    <p class="message">Cuando nuestro juego est√© listo, te enviaremos un mensaje.</p>
    <div id="records"></div>
  </div>

  <!-- Modal Galer√≠a -->
  <div id="galleryModal" class="modal-gallery">
    <button class="btn-close-gallery" id="closeGallery">‚úñ</button>
    <h2>Galer√≠a</h2>
    <div class="gallery-track">
      <img src="assets/galeria1.jpg" alt="Imagen 1">
      <img src="assets/galeria2.jpg" alt="Imagen 2">
      <img src="assets/galeria3.jpg" alt="Imagen 3">
    </div>
  </div>

  <script>
    const body = document.body;

    // jugar
    document.getElementById('playBtn').addEventListener('click', e => {
      e.preventDefault();
      alert("Pr√≥ximamente estar√° disponible la descarga del juego.");
    });

    // quienes somos
    const aboutBtn = document.getElementById('aboutBtn');
    const aboutSection = document.getElementById('aboutSection');
    const closeAbout = document.getElementById('closeAbout');
    aboutBtn.addEventListener('click', () => {
      aboutSection.classList.add('active');
      body.classList.add('modal-open');
    });
    closeAbout.addEventListener('click', () => {
      aboutSection.classList.remove('active');
      body.classList.remove('modal-open');
    });

    // registro
    const registerBtn = document.getElementById('registerBtn');
    const registerSection = document.getElementById('registerSection');
    const closeRegister = document.getElementById('closeRegister');
    registerBtn.addEventListener('click', () => {
      registerSection.classList.add('active');
      body.classList.add('modal-open');
      mostrarRegistros();
    });
    closeRegister.addEventListener('click', () => {
      registerSection.classList.remove('active');
      body.classList.remove('modal-open');
    });

    const registerForm = document.getElementById('registerForm');
    const recordsDiv = document.getElementById('records');
    registerForm.addEventListener('submit', e => {
      e.preventDefault();
      const nickname = document.getElementById('nickname').value.trim();
      const email = document.getElementById('email').value.trim();
      if (!nickname || !email) return alert("Completa todos los campos.");

      const registros = JSON.parse(localStorage.getItem('registros')) || [];
      registros.push({ nickname, email });
      localStorage.setItem('registros', JSON.stringify(registros));

      alert("Registro guardado.");
      registerForm.reset();
      mostrarRegistros();
    });

    function mostrarRegistros() {
      const registros = JSON.parse(localStorage.getItem('registros')) || [];
      if (registros.length === 0) {
        recordsDiv.innerHTML = '<p class="no-records">No hay registros a√∫n.</p>';
      } else {
        recordsDiv.innerHTML = '<h3>Registros guardados:</h3>' +
          '<ul class="record-list">' +
          registros.map(r => `<li>üë§ ${r.nickname} ‚Äî üìß ${r.email}</li>`).join('') +
          '</ul>';
      }
    }

    // galeria
    const galleryBtn = document.getElementById('galleryBtn');
    const galleryModal = document.getElementById('galleryModal');
    const closeGallery = document.getElementById('closeGallery');
    galleryBtn.addEventListener('click', () => {
      galleryModal.classList.add('active');
      body.classList.add('modal-open');
    });
    closeGallery.addEventListener('click', () => {
      galleryModal.classList.remove('active');
      body.classList.remove('modal-open');
    });

    // fondo automatico
    let fondos = ["assets/pasado.png", "assets/presente.png"];
    let indexFondo = 0;
    setInterval(() => {
      indexFondo = (indexFondo + 1) % fondos.length;
      body.style.backgroundImage = `url('${fondos[indexFondo]}')`;
    }, 5000);
  </script>
</body>
</html>
